<%
var page = {
  title: 'Room'
}
%>


<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
        <div><% for (const calName in calendar ) {
                      const cal = calendar[calName]
                      %>
                <ul>
                    <% for (const room in cal.rooms) {
                            const entries = cal.rooms[room]%>
                    <% for (const entry of entries) {
                        const speaker = speakers[entry.person]
                        %>
                    <li>
                        <%
                        const slots = cal.toSlots()
                        const slotClasses = new Map()
                        function hh (time) {
                            return momentTz(time).tz(slots.tz).format('H:mm')
                        }
                        %>
                        <p><%=`${room} ${hh(entry.start)} - ${hh(entry.end)}`%></p>
                        <hr/>
                        <h3><%= entry.summary %></h3>
                        <p><%= entry.description %></p>
                        <hr/>
                        <% if(entry.person){%>
                            <img src="img/speakers/pic-<%=entry.person%>.jpg"/>
                        <%}%>
                        <% if (speaker) {
                            const bio = speaker.biography %>
                            <% if(speaker){%>
                                <p><%= bio %></p>
                            <%}%>
                            <%} %>
                    </li>
                   
                    <% } %>
                    <% }%>
                </ul>
                <% }%>
                
            </div>
</body>
</html>

